;/*FB_PKG_DELIM*/

__d("PolarisFeedRoot.entrypoint",["JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){return{queries:{}}},root:c("JSResourceForInteraction")("PolarisFeedRoot.react").__setRef("PolarisFeedRoot.entrypoint")};g["default"]=a}),98);
__d("PolarisFeedPageContainerDeferred",["deferredLoadComponent","react","requireDeferredForDisplay"],(function(a,b,c,d,e,f,g){"use strict";var h;h||d("react");a=c("deferredLoadComponent")(c("requireDeferredForDisplay")("PolarisFeedPageContainer.react").__setRef("PolarisFeedPageContainerDeferred"));b=a;g["default"]=b}),98);
__d("usePolarisInitFeedPage",["PolarisFeedActionInitFeed","PolarisFeedSeenStateManagerSingleton","PolarisHoldoutChecks","PolarisReactRedux","react","usePolarisQueryPreloaderID","usePolarisQueryStore"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;var i=b.unstable_useMemoCache;function a(a,b){var e=i(7),f=d("PolarisReactRedux").useDispatch(),g=c("usePolarisQueryStore")(),h=c("usePolarisQueryPreloaderID")(a),j=c("usePolarisQueryPreloaderID")(b),k;e[0]!==f||e[1]!==a||e[2]!==h||e[3]!==b||e[4]!==j||e[5]!==g?(k=function(){var e=c("PolarisFeedSeenStateManagerSingleton").get();if(c("PolarisHoldoutChecks").H22023.rollout()===!1&&e.count()>0){var i=e.getViewInfo();e.clear();f(d("PolarisFeedActionInitFeed").initFeed({feedViewInfo:i,preloadedFeedQuery:a,preloadedFeedQueryId:h,preloadedStoryTrayQuery:b,preloadedStoryTrayQueryId:j,queryStore:g}))}else f(d("PolarisFeedActionInitFeed").initFeed({preloadedFeedQuery:a,preloadedFeedQueryId:h,preloadedStoryTrayQuery:b,preloadedStoryTrayQueryId:j,queryStore:g}))},e[0]=f,e[1]=a,e[2]=h,e[3]=b,e[4]=j,e[5]=g,e[6]=k):k=e[6];return k}g["default"]=a}),98);
__d("PolarisFeedActionInitFeedVariant",["PolarisDsaQEHelpers","PolarisFeedActionBuildFeedPageLoadedActionV2","PolarisFeedActionFetchFeedDataFromNative","PolarisInstajax","PolarisMonitorErrors","PolarisStoryAPIActions","Promise","asyncToGeneratorRuntime","polarisFeedReducer"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){return function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(c,e){e=e();var f,g,i=e.feed.currentFeed,j=d("polarisFeedReducer").getFeedContent(e.feed),k=j.isLoadingPosts;j=j.paginationInfo;k||(c({type:"FEED_LOADING"}),f=d("PolarisFeedActionFetchFeedDataFromNative").fetchFeedDataFromNative({cursor:j==null?void 0:j.cursor,feedViewInfo:a,paginationSource:j==null?void 0:j.paginationSource}).then(function(a){return c(d("PolarisFeedActionBuildFeedPageLoadedActionV2").buildFeedPageLoadedActionV2(c,a,i))}));!e.stories.isLoading&&(i==="home"||i==="following")&&d("PolarisDsaQEHelpers").isDsaFeed()&&(g=d("PolarisStoryAPIActions").loadStoryTray(c,void 0,i).then(function(a){c(a)}));return(h||(h=b("Promise"))).all([f,g])["catch"](function(a){a instanceof d("PolarisInstajax").AjaxError||d("PolarisMonitorErrors").logError(a)})});return function(a,b){return c.apply(this,arguments)}}()}g.initFeedVariant=a}),98);
__d("usePolarisInitFeedVariantPage",["PolarisFeedActionInitFeedVariant","PolarisFeedLastHeadLoadContext","PolarisFeedSeenStateManagerSingleton","PolarisHoldoutChecks","PolarisReactRedux","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;var i=b.unstable_useMemoCache;function a(){var a=i(3),b=d("PolarisReactRedux").useDispatch(),e=d("PolarisFeedLastHeadLoadContext").useSetLastHeadLoadMs(),f;a[0]!==b||a[1]!==e?(f=function(){var a=c("PolarisFeedSeenStateManagerSingleton").get();if(c("PolarisHoldoutChecks").H22023.rollout()===!1&&a.count()>0){var f=a.getViewInfo();a.clear();b(d("PolarisFeedActionInitFeedVariant").initFeedVariant(f))}else b(d("PolarisFeedActionInitFeedVariant").initFeedVariant());e(Date.now())},a[0]=b,a[1]=e,a[2]=f):f=a[2];return f}g["default"]=a}),98);
__d("PolarisFeedRoot.react",["CometPlaceholder.react","PolarisConditionalPageLayoutHandler.react","PolarisFeedActionScrolledToTop","PolarisFeedPageContainerDeferred","PolarisFeedState","PolarisNavigationActions","PolarisReactRedux","polarisFeedSelectors","react","usePolarisCreationDialog.react","usePolarisCurrentFeedVariant","usePolarisDisplayProperties","usePolarisInitFeedPage","usePolarisInitFeedVariantPage","usePolarisPreloadedPostQuery","usePolarisRefreshFeedData","useRoutePassthroughProps"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useEffect,k=b.useRef,l=b.unstable_useMemoCache;function a(a){var b=l(34);a=a.props;var e=a.routeParams;a=a.routeProps;var f=e.create_live,g=e.create_post;e=a.polaris_preload;a=e.feed;var h=e.story_tray;e=e.suggested_user_list;var m=c("usePolarisCurrentFeedVariant")(),n=d("PolarisReactRedux").useSelector(d("polarisFeedSelectors").getFeedContent),o=n.currentState;n=n.isLoadingPosts;var p=c("useRoutePassthroughProps")(),q=k(!1),r=d("PolarisReactRedux").useDispatch(),s;b[0]!==o||b[1]!==n?(s=o===d("PolarisFeedState").FEED_STATE_NETWORK||n,b[0]=o,b[1]=n,b[2]=s):s=b[2];var t=s,u=c("usePolarisInitFeedPage")(a,h);o=c("usePolarisPreloadedPostQuery")(e);var v=c("usePolarisInitFeedVariantPage")(),w=c("usePolarisRefreshFeedData")();b[3]!==m?(n=function(a){return a.feed.content[m].items},b[3]=m,b[4]=n):n=b[4];var x=d("PolarisReactRedux").useSelector(n);s=c("usePolarisDisplayProperties")();a=s.viewportWidth;h=c("usePolarisCreationDialog.react")();var y=h[0];b[5]!==m||b[6]!==t||b[7]!==u||b[8]!==x||b[9]!==v?(e=function(){(m==="home"||m==="past_posts")&&q.current===!1&&!t?(u(),q.current=!0):m!=="home"&&!t&&(!x||x.size===0)&&v()},n=[m,u,v,t,x],b[5]=m,b[6]=t,b[7]=u,b[8]=x,b[9]=v,b[10]=e,b[11]=n):(e=b[10],n=b[11]);j(e,n);b[12]!==p||b[13]!==r||b[14]!==w?(s=function(){(p==null?void 0:p.refreshFeed)===!0&&(window.scrollTo(0,0),r(d("PolarisFeedActionScrolledToTop").scrolledToTop()),w())},b[12]=p,b[13]=r,b[14]=w,b[15]=s):s=b[15];b[16]!==p?(h=p==null?void 0:p.refreshFeed,b[16]=p,b[17]=h):h=b[17];b[18]!==r||b[19]!==h||b[20]!==w?(e=[r,h,w],b[18]=r,b[19]=h,b[20]=w,b[21]=e):e=b[21];j(s,e);b[22]!==g||b[23]!==y||b[24]!==f||b[25]!==r?(n=function(){g===!0?y({}):f===!0&&r(d("PolarisNavigationActions").openLiveCreationModal())},b[22]=g,b[23]=y,b[24]=f,b[25]=r,b[26]=n):n=b[26];b[27]!==r||b[28]!==g||b[29]!==f?(h=[r,g,f],b[27]=r,b[28]=g,b[29]=f,b[30]=h):h=b[30];j(n,h);b[31]!==o||b[32]!==a?(s=i.jsx(c("PolarisConditionalPageLayoutHandler.react"),{children:i.jsx(c("CometPlaceholder.react"),{fallback:null,children:i.jsx(c("PolarisFeedPageContainerDeferred"),{suggestedUserListQueryRef:o,viewportWidth:a})})}),b[31]=o,b[32]=a,b[33]=s):s=b[33];return s}g["default"]=a}),98);